<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–ª—å–º—ã</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .action-buttons .btn {
            margin-bottom: 3px;
        }
    </style>
</head>
<body>
<div class="container mt-4">
    <h1>–§–∏–ª—å–º—ã</h1>
    <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ñ–∏–ª—å–º–æ–≤</p>

    <div class="mb-3">
        <a th:href="@{/movies/create}" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º</a>
        <a th:href="@{/}" class="btn btn-secondary">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>

    <table class="table table-bordered table-striped table-hover">
        <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>–ù–ê–ó–í–ê–ù–ò–ï</th>
            <th>–ñ–ê–ù–†</th>
            <th>–î–õ–ò–¢–ï–õ–¨–ù–û–°–¢–¨</th>
            <th>–¶–ï–ù–ê</th>
            <th>–ì–û–î</th>
            <th>–î–ï–ô–°–¢–í–ò–Ø</th>
        </tr>
        </thead>
        <tbody>
        <!-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ -->
        <tr th:if="${movies.empty}">
            <td colspan="7" class="text-center text-muted py-4">
                <div style="font-size: 1.2em; color: #6c757d;">
                    üìΩÔ∏è –ù–µ—Ç —Ñ–∏–ª—å–º–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
                </div>
                <p class="mt-2">–ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º", —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –∑–∞–ø–∏—Å—å</p>
            </td>
        </tr>

        <!-- –¶–∏–∫–ª –ø–æ —Ñ–∏–ª—å–º–∞–º -->
        <tr th:each="movie : ${movies}" th:unless="${movies.empty}">
            <td th:text="${movie.id}">1</td>
            <td th:text="${movie.title}">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞</td>
            <td th:text="${movie.genre?.title ?: '–ù–µ —É–∫–∞–∑–∞–Ω'}">–ñ–∞–Ω—Ä</td>

            <!-- –í–û–¢ –≠–¢–ê –°–¢–†–û–ö–ê 158 (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ) -->
            <!-- –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ -->
            <td th:text="${movie.getFormattedDuration()} ?: ''">120 –º–∏–Ω</td>

            <td th:text="${movie.getFormattedTicketPrice()} ?: ''">300 —Ä—É–±.</td>
            <td th:text="${movie.releaseYear}">2024</td>
            <td class="action-buttons">
                <!-- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ—Å–º–æ—Ç—Ä" -->
                <a th:href="@{/movies/view/{id}(id=${movie.id})}"
                   class="btn btn-sm btn-info d-block mb-1">üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä</a>

                <a th:href="@{/movies/edit/{id}(id=${movie.id})}"
                   class="btn btn-sm btn-warning d-block mb-1">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>

                <a th:href="@{/movies/delete/{id}(id=${movie.id})}"
                   class="btn btn-sm btn-danger d-block"
                   onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ñ–∏–ª—å–º?')">
                    üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                </a>
            </td>
        </tr>
        </tbody>
    </table>

    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="mt-4">
        <a th:href="@{/genres}" class="btn btn-outline-primary">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∞–Ω—Ä–∞–º–∏</a>
        <a th:href="@{/tickets}" class="btn btn-outline-success">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–ª–µ—Ç–∞–º–∏</a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>